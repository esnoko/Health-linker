"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9849],{9849:(P,p,o)=>{o.r(p),o.d(p,{MyFilePageModule:()=>j});var r=o(177),h=o(4341),l=o(1075),f=o(9591),c=o(6354),e=o(4438),y=o(4163),a=o(3235),d=o(9579);function u(t,n){if(1&t){const s=e.RV6();e.j41(0,"div")(1,"div",9),e.bIt("click",function(){const g=e.eBV(s).$implicit,m=e.XpG(2);return e.Njj(m.navigate(g.id))}),e.nrm(2,"ion-img",10),e.j41(3,"div",11)(4,"p",12),e.EFF(5),e.nI1(6,"date"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.k0s()()()()}if(2&t){const s=n.$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("src",i.fileImage),e.R7$(3),e.SpI("Date : ",e.i5U(6,3,s.Date.toDate(),"dd - MMM -YYYY"),""),e.R7$(3),e.SpI("Hospital : ",s.Hospital,"")}}function v(t,n){1&t&&(e.j41(0,"div")(1,"p",13),e.EFF(2,"No Medical history found"),e.k0s()())}function F(t,n){if(1&t&&(e.j41(0,"div",6),e.DNE(1,u,9,6,"div",7)(2,v,3,0,"div",8),e.k0s()),2&t){const s=n.ngIf;e.R7$(),e.Y8G("ngForOf",s),e.R7$(),e.Y8G("ngIf",0===s.length)}}function _(t,n){1&t&&(e.j41(0,"div",14),e.nrm(1,"ion-spinner",15),e.j41(2,"p",16),e.EFF(3,"loading..."),e.k0s()())}const I=[{path:"",component:(()=>{var t;class n{constructor(i,g,m,M,U){this.route=i,this.firestore=g,this.database=m,this.router=M,this.utils=U,this.fileImage="/assets/img/1file.png",this.loading=!0}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),console.log("ID",this.id),this.Files$=this.database.collection("MedicalFiles",i=>i.where("PatientsNo","==",this.id)).snapshotChanges().pipe((0,c.T)(i=>i.map(g=>({id:g.payload.doc.id,...g.payload.doc.data()}))))}AddMedical(){this.utils.showSpinner(),this.database.collection("MedicalFiles").doc(this.id).update({Status:"Collected"}).then(i=>{this.utils.showToast("Saved"),this.utils.hideSpinner(),this.router.navigateByUrl("/personell/dashboard")})}navigate(i){this.router.navigateByUrl("file-details/"+i)}}return(t=n).\u0275fac=function(i){return new(i||t)(e.rXU(f.nX),e.rXU(y.B),e.rXU(a.Qe),e.rXU(f.Ix),e.rXU(d.T))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-my-file"]],decls:11,vars:4,consts:[["loading",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["mode","ios"],["class","p-2",4,"ngIf","ngIfElse"],[1,"p-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"w-full","rounded","border","p-2","my-2","flex","items-center","space-x-3",3,"click"],[1,"h-14","w-14",3,"src"],[1,"flex","flex-col","font-medium","text-gray-500"],[1,"text-lg","font-semibold","text-health_blue-1"],[1,"text-gray-500"],[1,"w-full","flex","flex-col","justify-center","items-center","mt-10"],["color","primary","name","bubbles"],[1,"italic","text-xs","text-gray-500"]],template:function(i,g){if(1&i&&(e.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),e.nrm(3,"ion-back-button",4),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Medical Files"),e.k0s()()(),e.j41(6,"ion-content"),e.DNE(7,F,3,2,"div",5),e.nI1(8,"async"),e.DNE(9,_,4,0,"ng-template",null,0,e.C5r),e.k0s()),2&i){const m=e.sdS(10);e.R7$(7),e.Y8G("ngIf",e.bMT(8,2,g.Files$))("ngIfElse",m)}},dependencies:[r.Sq,r.bT,l.QW,l.W9,l.eU,l.KW,l.w2,l.BC,l.ai,l.el,r.Jj,r.vh]}),n})()}];let C=(()=>{var t;class n{}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.iI.forChild(I),f.iI]}),n})();var E=o(5553);let j=(()=>{var t;class n{}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[r.MD,h.YN,l.bv,C,E.h]}),n})()},9579:(P,p,o)=>{o.d(p,{T:()=>f});var r=o(467),h=o(4438),l=o(1075);let f=(()=>{var c;class e{constructor(a,d,u){this.loadingController=a,this.toastController=d,this.alertController=u}showSpinner(a="Loading...."){var d=this;return(0,r.A)(function*(){yield(yield d.loadingController.create({message:a,mode:"ios",spinner:"circular",backdropDismiss:!1,cssClass:"custom-class",duration:0})).present()})()}hideSpinner(){var a=this;return(0,r.A)(function*(){yield a.loadingController.dismiss()})()}showToast(a,d=2e3){var u=this;return(0,r.A)(function*(){yield(yield u.toastController.create({message:a,duration:d,position:"bottom"})).present()})()}showAlert(a,d,u="OK"){var v=this;return(0,r.A)(function*(){yield(yield v.alertController.create({header:a,mode:"ios",message:d,buttons:[u]})).present()})()}}return(c=e).\u0275fac=function(a){return new(a||c)(h.KVO(l.Xi),h.KVO(l.K_),h.KVO(l.hG))},c.\u0275prov=h.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),e})()}}]);